query MovieWithShowtimesList($theaterId: String!, $from: DateTime!, $to: DateTime!) {
    movieShowtimeList(
        theater: $theaterId
        from: $from
        to: $to
        first: 50
        displayPreview: false
        order: [REVERSE_RELEASE_DATE, WEEKLY_POPULARITY]
    ) @nonnull {
        totalCount
        pageInfo {
            hasNextPage
            endCursor
        }
        edges @nonnull {
            node @nonnull {
                ...MovieWithShowtimesFragment
            }
        }
    }
}

fragment MovieWithShowtimesFragment on MovieShowtimeLeaf {
    movie @nonnull {
        id
        title @nonnull
        originalTitle
        credits(first: 3, activity: DIRECTOR) {
            edges {
                node {
                    person {
                        stringValue
                    }
                }
            }
        }
        cast(first: 5) {
            edges {
                node {
                    actor {
                        stringValue
                    }
                }
            }
        }
        releases(type: [RELEASED], country: FRANCE) {
            releaseDate {
                date
            }
        }
        genres
        runtime
        videos(type: [TRAILER], first: 1) {
            files(quality: [STANDARD]) {
                url
            }
        }
        poster {
            url
        }
        synopsis(long: true)
    }
    showtimes @nonnull {
        id @nonnull
        startsAt @nonnull
        projection
        diffusionVersion
    }
}

